from controller import loadPresets, handleScan


def mainMenu():
    choosing = True
    while choosing:
        scanChoice = input("Options:\n1. Default scan\n2. Presets\n3. Manage presets\n>").lower().strip()
        if scanChoice == "default scan" or scanChoice == "1":
            print("Scanning...")
            resultsMenu(handleScan())
        elif scanChoice == "presets" or scanChoice == "2":
            choosePreset()
        elif scanChoice == "manage presets" or scanChoice == "3":
            managePresetsMenu()
        elif scanChoice == "exit" or scanChoice == "quit":
            choosing = False
        else:
            print("Please enter valid option\n")

def managePresetsMenu():
    customChoice = input("\nOptions:\n1. Create\n2. Delete\n3. Load\n>").lower().strip()

def choosePreset():
    print("\nChoose preset ID:\n")
    presetIDs = []
    for preset in loadPresets():
        print(preset[0] + ". " + preset[1])
        presetIDs.append(preset[0])
    validPreset = False
    while not validPreset:
        presetChoice = input(">")
        if presetChoice in presetIDs:
            handleScan(presetChoice)

def resultsMenu(results):
    pass

if __name__ == "__main__":
    mainMenu()
